# TG Imgboard - Telegram WebApp для просмотра досок Два.ч

Веб-приложение для просмотра досок и тредов Два.ч в Telegram WebApp формате, оптимизированное для мобильных устройств.

## Особенности

- ✅ Полноэкранный режим для Telegram WebApp
- ✅ Адаптивный дизайн для мобильных устройств
- ✅ Поддержка темной темы Telegram
- ✅ Просмотр досок и тредов
- ✅ Загрузка изображений с превью
- ✅ Обработка ошибок и fallback данные
- ✅ Оптимизация для iOS устройств

## Установка и запуск

```bash
# Установка зависимостей
npm install

# Запуск в режиме разработки
npm run dev

# Сборка для продакшена
npm run build

# Предварительный просмотр сборки
npm run preview
```

## Структура проекта

```
src/
├── api/
│   └── boards.js          # API для работы с Два.ч
├── views/
│   ├── HomeView.vue       # Главная страница со списком досок
│   ├── BoardView.vue      # Страница доски с тредами
│   └── ThreadView.vue     # Страница треда с постами
├── router/
│   └── index.js           # Настройки маршрутизации
├── App.vue                # Главный компонент приложения
└── main.js                # Точка входа приложения
```

## API

Приложение использует несколько CORS прокси для обхода ограничений:

- `https://corsproxy.io/?`
- `https://api.allorigins.win/raw?url=`
- `https://cors-anywhere.herokuapp.com/`
- `https://thingproxy.freeboard.io/fetch/`
- `https://api.codetabs.com/v1/proxy?quest=`

Если все прокси недоступны, используются fallback данные.

## Тестирование

Для тестирования API можно использовать файл `test-api.html`:

1. Откройте `test-api.html` в браузере
2. Нажмите кнопки для тестирования различных функций API
3. Проверьте результаты в консоли браузера

## Развертывание

### Для Telegram WebApp

1. Соберите проект: `npm run build`
2. Загрузите содержимое папки `dist/` на ваш веб-сервер
3. Настройте HTTPS (обязательно для Telegram WebApp)
4. Добавьте URL в настройки вашего Telegram бота

### Локальное тестирование

```bash
# Запуск dev сервера
npm run dev

# Откройте http://localhost:5173 в браузере
```

## Особенности для мобильных устройств

- Полноэкранный режим в Telegram
- Отключение свайпа вниз для закрытия
- Скрытие кнопки "Назад"
- Блокировка ориентации экрана
- Адаптивные стили для iOS

## Отладка

Включено подробное логирование в консоль:

```javascript
// Примеры логов
console.log('Загрузка списка досок...')
console.log('Данные досок успешно загружены')
console.log(`Загружено ${threads.length} тредов`)
```

## Известные проблемы

1. **CORS ограничения**: API Два.ч не поддерживает CORS, поэтому используются прокси
2. **Скорость загрузки**: Может быть медленной из-за прокси серверов
3. **Доступность**: Некоторые прокси могут быть недоступны

## Решения проблем

### Треды не загружаются

1. Проверьте консоль браузера на ошибки
2. Убедитесь, что ID доски корректный
3. Попробуйте другой прокси сервер

### Изображения не отображаются

1. Проверьте URL изображений
2. Убедитесь, что изображения доступны
3. Проверьте настройки CORS

### Проблемы с мобильными устройствами

1. Убедитесь, что используется HTTPS
2. Проверьте настройки viewport
3. Тестируйте в Telegram WebApp

## Лицензия

MIT License
